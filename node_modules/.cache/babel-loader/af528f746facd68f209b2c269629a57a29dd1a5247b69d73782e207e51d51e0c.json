{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'FetchForm',\n  methods: {\n    checkApproval() {\n      axios.get('/fetch-data').then(response => {\n        const data = response.data;\n        const allApproved = data.every(doc => {\n          return doc.ver.signed && doc.appr.every(item => item.approved) && doc.rcv.signed;\n        });\n        if (allApproved) {\n          // Send a request to your server to mark the approval status as true\n          axios.post('/mark-approved').then(response => {\n            // Handle the response\n            this.approved = true;\n          }).catch(error => {\n            // Handle the error\n            this.approved = false;\n          });\n        } else {\n          this.approved = false;\n        }\n      }).catch(error => {\n        // Handle the error\n        this.approved = false;\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","name","methods","checkApproval","get","then","response","data","allApproved","every","doc","ver","signed","appr","item","approved","rcv","post","catch","error"],"sources":["/home/vagrant/sites/ppc/app/src/components/FetchForm.vue"],"sourcesContent":["<template>\n<button @click=\"checkApproval\">Check Approval</button>\n<div v-if=\"approved\" class=\"success-message\">Pass has been approved!</div>\n<div v-else class=\"error-message\">Pass has been denied!</div>\n</template>\n\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'FetchForm',\n  methods: {\n    checkApproval() {\n      axios.get('/fetch-data')\n      .then(response => {\n          const data = response.data;\n          const allApproved = data.every(doc => {\n            return doc.ver.signed && doc.appr.every(item => item.approved) && doc.rcv.signed;\n          });\n          if (allApproved) {\n            // Send a request to your server to mark the approval status as true\n            axios.post('/mark-approved')\n              .then(response => {\n                // Handle the response\n                this.approved = true;\n              })\n              .catch(error => {\n                // Handle the error\n                this.approved = false;\n              });\n          } else {\n            this.approved = false;\n          }\n        })\n        .catch(error => {\n          // Handle the error\n          this.approved = false;\n        });\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n\n"],"mappings":"AAQA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,OAAO,EAAE;IACPC,aAAaA,CAAA,EAAG;MACdH,KAAK,CAACI,GAAG,CAAC,aAAa,EACtBC,IAAI,CAACC,QAAO,IAAK;QACd,MAAMC,IAAG,GAAID,QAAQ,CAACC,IAAI;QAC1B,MAAMC,WAAU,GAAID,IAAI,CAACE,KAAK,CAACC,GAAE,IAAK;UACpC,OAAOA,GAAG,CAACC,GAAG,CAACC,MAAK,IAAKF,GAAG,CAACG,IAAI,CAACJ,KAAK,CAACK,IAAG,IAAKA,IAAI,CAACC,QAAQ,KAAKL,GAAG,CAACM,GAAG,CAACJ,MAAM;QAClF,CAAC,CAAC;QACF,IAAIJ,WAAW,EAAE;UACf;UACAR,KAAK,CAACiB,IAAI,CAAC,gBAAgB,EACxBZ,IAAI,CAACC,QAAO,IAAK;YAChB;YACA,IAAI,CAACS,QAAO,GAAI,IAAI;UACtB,CAAC,EACAG,KAAK,CAACC,KAAI,IAAK;YACd;YACA,IAAI,CAACJ,QAAO,GAAI,KAAK;UACvB,CAAC,CAAC;QACN,OAAO;UACL,IAAI,CAACA,QAAO,GAAI,KAAK;QACvB;MACF,CAAC,EACAG,KAAK,CAACC,KAAI,IAAK;QACd;QACA,IAAI,CAACJ,QAAO,GAAI,KAAK;MACvB,CAAC,CAAC;IACN;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}