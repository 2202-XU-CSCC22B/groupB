{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"success-message\"\n};\nconst _hoisted_2 = {\n  key: 1,\n  class: \"error-message\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.checkApproval && $options.checkApproval(...args))\n  }, \"Check Approval\"), _ctx.approved ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \"Pass has been approved!\")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \"Pass has been denied!\"))], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","onClick","_cache","args","$options","checkApproval","_ctx","approved","_createElementBlock","_hoisted_1","_hoisted_2"],"sources":["/home/vagrant/sites/ppc/app/src/components/FetchForm.vue"],"sourcesContent":["<template>\n<button @click=\"checkApproval\">Check Approval</button>\n<div v-if=\"approved\" class=\"success-message\">Pass has been approved!</div>\n<div v-else class=\"error-message\">Pass has been denied!</div>\n</template>\n\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'FetchForm',\n  methods: {\n    checkApproval() {\n      axios.get('/fetch-data')\n      .then(response => {\n          const data = response.data;\n          const allApproved = data.every(doc => {\n            return doc.ver.signed && doc.appr.every(item => item.approved) && doc.rcv.signed;\n          });\n          if (allApproved) {\n            // Send a request to your server to mark the approval status as true\n            axios.post('/mark-approved')\n              .then(response => {\n                // Handle the response\n                this.approved = true;\n              })\n              .catch(error => {\n                // Handle the error\n                this.approved = false;\n              });\n          } else {\n            this.approved = false;\n          }\n        })\n        .catch(error => {\n          // Handle the error\n          this.approved = false;\n        });\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n\n"],"mappings":";;;EAEqBA,KAAK,EAAC;;;;EACfA,KAAK,EAAC;;;6DAFlBC,mBAAA,CAAsD;IAA7CC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,aAAA,IAAAD,QAAA,CAAAC,aAAA,IAAAF,IAAA,CAAa;KAAE,gBAAc,GAClCG,IAAA,CAAAC,QAAQ,I,cAAnBC,mBAAA,CAA0E,OAA1EC,UAA0E,EAA7B,yBAAuB,M,cACpED,mBAAA,CAA6D,OAA7DE,UAA6D,EAA3B,uBAAqB,G"},"metadata":{},"sourceType":"module","externalDependencies":[]}